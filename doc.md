Тут буде опис повного шляху запиту та архітектури/відповідальностей


Для кращого розуміння спочатку шлях по якому йде запит:
1 app - тут ініціалізація всього
2 routes - опис ендпоінтів та middleware
3 middleware - базово перевіряє і передає в контролер
4 controller - передає запит в сервіс, отримавши відповідь потім формує респонс
5 service - парсить, обробляє та передає моделі
6 model - модель звертається до бд і потім запит повертається ->сервіс->контролер



Стосовно архітектури та відповідальностей:
app - ініціалізація express

Допоміжні файли:
config/
index - файл який читає всі змінні з .env 
.database - файли для ініціалізації sequelize і підключення до бд

types/
Тут всі потрібні DTO з описом різних даних:
як вони зберігаютья в бд, як прийдуть в запиті, як виглядають при додаванні в бд
Також тут є файл з описом query параметрів

schemas/ - zod схеми, використаємо в валідації полів(наприклад розмір пароля, @ в імейлі тощо.)


middlewares/
В middleware хендлери помилок, також в якості middleware виступає validation/
validation/ - для юзерів та фільмів тут відбуваєтсья валідація за допомогою zod схем.
У разі провалу валідації самостійно формує response, до контролеру не доходить.
Також тут відбувається перевірка токена(тут можна додати обробку різних ролей юзера),
всі функції обробки токенів в /utils/TokenFunctions


controllers/
Після валідації запит потрапляє в контролер:
Відповідальність контролера: Формування респонсу. 
Тобто отримавши результат від сервісу контролер сформує json як це описано в ТЗ


services/
Сервіс відповідає за бізнес-логіку. Різні функції/зміни та таке інше має бути саме тут


models/
Головна відповідальність моделі - запити до БД, ініціалізація таблиць та їх зв'язків
Якщо потрібно звернутись до бд це має відбуватись через методи відповідної моделі


utils/
Тут знаходяться об'єкти логера, які потім використовуємо для логування.
Також тут знаходяться функції які мали б бути в сервісі, але 
вони або великі, або повторювані тож я виніс їх в окремий файл







